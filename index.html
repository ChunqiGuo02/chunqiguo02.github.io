---
layout: null
---
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>{{ site.name }}</title>
  <!-- 资源引入 -->
  <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3287472_9j4z4z9y7vi.css">
  <link href="{{ '/css/fontawesome.all.min.css' | relative_url }}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" rel="stylesheet">
  <link href="{{ '/css/bulma.min.css' | relative_url }}" rel="stylesheet">
  <link href="{{ '/css/index.css' | relative_url }}" rel="stylesheet">

  <style>
    :root {
      --menu-text-color: #000000; /* 浅色模式黑色 */
      --bg: #f5f5f7;
      --fg: #000000;
      --card-shadow: 0 12px 15px rgba(0, 0, 0, 0.079); 
      --block-shadow: 0 12px 15px rgba(0, 0, 0, 0.079); 
      --extend-color: #fafafc;
      --accent: #306fdb;
      --muted: #f5f5f5;
      --muted-fg: #6b7280;
      --border: #8f8f8f6b;
      --card-bg: #ffffff;
      --glass-bg: rgba(245, 245, 247, 0.113); /* 毛玻璃背景 */
      --overlay: rgba(145, 145, 145, 0.086); /* 菜单覆盖层 */
      --global-padding: 24px;
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;
      --ease: cubic-bezier(0.4, 0, 0.2, 1);
      --radius: 16px;
      --header-height: 48px; /* 顶栏高度 */
      --header-height-expanded: 55px;
      --timeline-width: 4px; /* 时间线宽度 */
    }

    .dark {
      --menu-text-color: #ffffff; /* 深色模式白色 */
      --bg: #000000;
      --fg: #f5f5f7;
      --extend-color: #161617;
      --accent: #306fdb;
      --card-shadow: 5px 10px 11px rgba(234, 234, 234, 0.229);
      --block-shadow: 5px 10px 11px rgba(234, 234, 234, 0.229);
      --muted: #1f1f1f;
      --muted-fg: #a3a3a3;
      --border: #333333;
      --card-bg: #1d1d1f;
      --glass-bg: rgba(18, 18, 18, 0.589); /* 深色模式毛玻璃 */
      --overlay: rgba(0, 0, 0, 0.387); /* 深色模式覆盖层 */
    }

    /* 1. 毛玻璃顶栏样式 */
    .glass-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: var(--header-height);
      padding: 0 var(--global-padding);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--glass-bg);
      backdrop-filter: blur(35px)  brightness(1.05) contrast(1.1) !important;
      -webkit-backdrop-filter: blur(25px) !important;
      border-bottom: 1px solid transparent;
      z-index: 999;
      transition: all 0.3s var(--ease);
    }

    /* 顶栏展开状态（配合菜单显示） */
    .glass-header.expanded {
      height: var(--header-height-expanded); /* 高度增加，体现延伸 */
      background: var(--extend-color); /* 变为纯色背景（非毛玻璃） */
      backdrop-filter: blur(0); /* 移除模糊 */
      -webkit-backdrop-filter: blur(0);
      border-bottom: 1px solid transparent !important; /* 显示下边框，与菜单分隔 */
    }

    .header-logo {
      font-weight: 550;
      color: var(----menu-text-color) !important;
      text-decoration: none !important;
      font-size: 1.2rem;
      transition: color 0.2s;
    }

    .header-logo:hover {
      color: var(--) !important;
      font-weight: 600 !important;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: var(--space-md);
    }

    .header-btn {
      background: transparent;
      border: none;
      color: var(--fg);
      cursor: pointer;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s var(--ease);
    }

    .header-btn:hover {
      background: var(--muted);
    }

    /* 3. 菜单样式 */
    .menu-overlay {
      position: fixed;
      top: var(--header-height-expanded); /* 从顶栏下方开始 */
      left: 0;
      right:0;
      bottom:0;
      background: var(--overlay);
      z-index: 997;
      opacity: 0;
      pointer-events: none;
     transition: opacity 0.3s var(--ease);
    }


    .menu-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .menu-panel {
      position: fixed;
      top: var(--header-height); /* 从顶栏下方开始 */
      left:-38px;
      right: 0;
      background: var(--extend-color);
      z-index: 998; /* 低于顶栏z-index */
      padding: 0 var(--global-padding); /* 移除顶栏高度的偏移 */
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s var(--ease), padding 0.3s var(--ease); /* 高度过渡动画（延伸感） */
    }

    .menu-panel.active {
      /* 高度设为足够大的值（覆盖内容即可），触发展开动画 */
     max-height: 800px !important; /* 可根据内容调整，确保大于实际高度 */
      /* 展开时显示内边距 */
      padding: 0 var(--space-lg) 30px;
    }

    /* 单列菜单容器：左对齐，添加内边距 */
    .menu-list {
      display: flex;
      flex-direction: column; /* 垂直排列（单列） */
      gap:  var(--space-lg) var(--global-padding); /* 统一菜单项间距（可改为md/xs，按需调整） */
      padding: var(--space-lg) var(--global-padding); /* 左右内边距与顶栏一致 */
    }

    .menu-item {
      display: block;
      text-align: left ; /* 强制左对齐 */
      font-size: 1.2rem; /* 文字大小可按需调整 */
      border-bottom: none; /* 移除原有下划线边框 */
      padding: 0; /* 清除多余内边距（间距由menu-list的gap控制） */
      color: var(--menu-text-color) !important; /* 绑定文字颜色变量 */
      transition: color 0.2s; /* 保留hover颜色过渡 */
    }

    .menu-item:hover {
      color: var(--accent) !important;
      font-weight: 550;
      text-decoration: none !important;
    }

    

    /* 菜单项标题（可选，用于区分主项） */
    
    .menu-item {
      font-size: 1.2rem; /* 子项文字大小（比标题小，保持层级） */
      font-weight: 550; /* 子项字重（400为正常，300为轻量） */
      padding: 0 var(--space-xs) ; /* 上下间距（不影响文字大小） */
    }

     #top, #highlights, #publications, #experience {
      scroll-margin-top: calc(var(--header-height) + var(--space-md));
    }

    /* 4. 页面内容调整 */
    body {
      padding-top: var(--header-height) !important;
      background-color: var(--bg) !important;
      color: var(--fg) !important;
      font-family: 'Arial', 'Arial', sans-serif !important;
      line-height: 1.6;
      transition: all 0.3s var(--ease);
    }

    .content-blur {
      filter: blur(13px);
      transition: filter 0.3s var(--ease);
    }

    /* 5. 时间线样式 (Experience版块) */
    .experience-section {
      padding: var(--space-xl) 0;
    }

    .timeline-container {
      position: relative;
      max-width: 1000px;
      margin: 0 auto;
      padding-left: calc(var(--space-lg) * 2);
    }

    /* 垂直时间线 */
    .timeline {
      position: absolute;
      left: var(--space-lg);
      top: 0;
      bottom: 0;
      width: var(--timeline-width);
      background: var(--accent);
      border-radius: calc(var(--timeline-width) / 2);
    }

    .timeline-item {
      position: relative;
      margin-bottom: var(--space-xl);
      padding: var(--space-lg);
      background: var(--card-bg);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      transition: transform 0.3s var(--ease);
    }

    .timeline-item:hover {
      transform: translateY(-5px);
    }

    /* 时间点标记 */
    .timeline-dot {
      position: absolute;
      left: calc(-1 * (var(--space-lg) + 12px));
      top: var(--space-lg);
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--accent);
      border: 4px solid var(--bg);
      z-index: 1;
    }

    .timeline-content {
      margin-left: var(--space-md);
    }

    .timeline-date {
      color: var(--muted-fg);
      font-size: 0.9rem;
      margin-bottom: var(--space-xs);
    }

    .timeline-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: var(--space-xs);
      color: var(--fg);
    }

    .timeline-subtitle {
      color: var(--accent);
      margin-bottom: var(--space-sm);
    }

    /* 其他原有样式保持不变 */
    .container, .hero-body, .section {
      padding-left: var(--global-padding) !important;
      padding-right: var(--global-padding) !important;
      max-width: 1200px !important;
      margin-left: auto !important;
      margin-right: auto !important;
    }

    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate {
      opacity: 0;
      animation: fade-in-up 0.6s var(--ease) forwards;
      animation-fill-mode: forwards;
    }

    .animate-delay-100 { animation-delay: 100ms; }
    .animate-delay-200 { animation-delay: 200ms; }
    .animate-delay-300 { animation-delay: 300ms; }
    .animate-delay-400 { animation-delay: 400ms; }

    

    .hero .title b {
      font-weight: 540; /* 缩减字重，可根据需求改为400/500/600 */
      font-size: 2.2rem !important;
    }

    .title {
      font-weight: 540 !important;
      letter-spacing: 0.01em !important;
      color: var(--fg) !important;
      margin-bottom: 20px !important;
    }

    .intro-content {
      font-size: 1.05rem !important; /* 比默认增大15%，可调整为1.25rem */
      letter-spacing: 0.01em !important;
      line-height: 1.7 !important; /* 增大行高，避免拥挤 */
      margin-bottom: -60px !important;
    }

    .subtitle {
      font-size: 1.25rem !important; /* 比默认增大15%，可调整为1.25rem */
      letter-spacing: 0.01em !important;
      line-height: 1.7 !important; /* 增大行高，避免拥挤 */
    }

    .title.is-3 {
      font-size: clamp(1.75rem, 6.5vw, 3rem) !important;
      margin-bottom: 40px !important;
    }

    .title.is-5 {
      font-size: clamp(1.125rem, 6vw, 1.5rem) !important;
      margin-bottom: var(--space-lg) !important;
    }
    
    .buttons {
      display: flex !important;
      flex-wrap: wrap !important;
      gap: var(--space-sm) !important;
      margin-top: var(--space-md) !important;
    }

    .button.is-light {
      background: var(--card-bg) !important;
      border: 1px solid var(--border) !important;
      border-radius: 30px !important;
      backdrop-filter: blur(20px) !important;
      min-height: 35px !important;
      padding: 0 var(--space-md) !important;
      transition: all 0.3s var(--ease) !important;
      color: var(--fg) !important;
    }

    .button.is-light:hover {
      background: var(--card-bg) !important;
      transform: translateY(-1px) !important;
      color: #306fdb !important;
      box-shadow: 0 11px 19px rgba(60, 60, 60, 0.1) !important;
    }

    .highlight-card {
      background: var(--card-bg) !important;
      border-radius: var(--radius) !important;
      transition: all 0.3s var(--ease) ;
      margin-bottom: var(--space-xl) !important;
      overflow: hidden !important;
    }

    .publication-block {
      background: var(--card-bg) !important;
      border-radius: var(--radius) !important;
      transition: all 0.3s var(--ease) ;
      margin-bottom: var(--space-xl) !important;
      box-shadow: 0 11px 19px rgba(60, 60, 60, 0.1) !important;
      overflow: hidden !important;
    }

    .highlight-card:hover {
      background: var(--card-bg) !important;
      transform: translateY(-10px) !important;
      box-shadow: var(--card-shadow) !important;
    }

    .publication-block:hover {
      background: var(--card-bg) !important;
      transform: translateY(-10px) !important;
      box-shadow: var(--block-shadow) !important;
    }

    .highlight-card .card-image {
      padding: 0 !important;
      margin: 0 !important;
    }

    .highlight-card img, .highlight-card video {
      width: 100% !important;
      height: auto !important;
      object-fit: cover !important;
      border-radius: var(--radius) var(--radius) 0 0 !important;
      display: block !important;
    }

    .publication-image {
      padding: var(--space-md) !important;
    }

    /* 横屏时：上、下、左与卡片边界紧贴，右侧保留默认内边距（可根据需要调整） */
   @media (orientation: landscape) {
    .publication-image, .publication-image video {
      padding-top: 0 !important;
      padding-bottom: 0 !important;
      padding-left: 0 !important;
    }
  }

  /* 竖屏时：上、左、右与卡片边界紧贴，底部保留默认内边距（可根据需要调整） */
  @media (orientation: portrait) {
    .publication-image, .publication-image video {
      padding-top: 0 !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
    }
  }

    

    a {
      color: var(--accent) !important;
      text-decoration: none !important;
    }

    a:hover {
      text-decoration: none !important;
      
    }

    .author-me {
      font-weight: 500 !important;
      color: var(--accent) !important;
    }

    .footer {
      background-color: var(--bg);
      color: var(--menu-text-color) !important;
      padding: var(--space-xl) 0 var(--space-lg) 0 !important;
    }

    

    
    ::-webkit-scrollbar-thumb {
      width: 50px;
      height: 80px;
      background: #d4d4d4;
      border-radius: 999px;
    }
    ::-webkit-scrollbar-thumb:hover {
      width: 80px;
      height: 160px;
      background: #636363;
    }
    ::-webkit-scrollbar-track {
      width: 20px;
      background: var(--bg);
    }

    ::-webkit-scrollbar-track:hover {
      width: 80px;
      background: #d4d4d4;
    }

    /* 确保卡片内文字颜色正确 */
    .highlight-title, .highlight-description,
    .publication-title, .publication-authors, 
    .publication-venue, .publication-description {
      color: var(--fg) !important;
    }

    .highlight-title a, .publication-title a {
      color: var(--accent) !important;
    }
  </style>
</head>
<body>
  <!-- 毛玻璃顶栏 -->
  <header class="glass-header">
    <a href="#top" class="header-logo">HomePage</a>
    <div class="header-actions">
      <button id="theme-toggle" class="header-btn" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
      </button>
      <button id="menu-btn" class="header-btn" aria-label="Menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  

  <!-- 菜单覆盖层 -->
  <div class="menu-overlay" id="menu-overlay"></div>

  <!-- 菜单面板 -->
  <div class="menu-panel" id="menu-panel">
    <div class="menu-list"> <!-- 新增单列容器 -->
      <a href="#highlights" class="menu-item">Highlights</a>
      <a href="#publications" class="menu-item">Publications</a>
      <a href="#experience" class="menu-item">Experience</a>
    </div>
  </div>

  <!-- 页面内容 -->
  <div id="content-wrapper">
    <!-- 头部区域 -->
    <section id="top" class="hero animate">
      <div class="hero-body">
        <div class="container">
          <div class="columns">
            <div class="column is-4 animate-delay-100">
              <figure class="image portrait">
                <img src="{{ '/images/portrait.jpg' | relative_url }}" style="border-radius: 20px; width: 100%;" />
              </figure>
            </div>
            <div class="column animate-delay-200">
              <h1 class="title">
                <b>{{ site.name }}</b>
              </h1>
              <h4 class="subtitle mb-0">
                {{ site.position }}, {{ site.affiliation }}
              </h4>
               <div class="buttons ">

                  <a class="external-link button is-light" href="https://scholar.google.com/citations?user={{ site.google_scholar }}">
                    <span class="icon"><i class="ai ai-google-scholar"></i></span>
                    <span>Scholar</span>
                  </a>
                  <a class="external-link button is-light" href="https://github.com/ChunqiGuo02">
                    <span class="icon"><i class="fab fa-github"></i></span>
                    <span>Github</span>
                  </a>
                  <a class="external-link button is-light" href="https://www.linkedin.com/in/chunqi-guo-74a20b38b/">
                    <span class="icon"><i class="fab fa-linkedin"></i></span>
                    <span>LinkedIn</span>
                  </a>
                </div>
              <div class="content has-text-justified intro-content">
                {{ site.description | markdownify }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  

    <!-- Highlights区域 -->
    <section id="highlights" class="section animate animate-delay-300">
      <div class="container">
        <h2 class="title is-3">Highlights</h2>
        <div class="columns is-multiline">
          {% for highlight in site.data.highlights %}
          <div class="column is-4 animate" style="animation-delay: {{ forloop.index * 100 }}ms;">
            <div class="card highlight-card">
              <div class="card-image">
                <figure class="image">
                  {% if highlight.video %}
                  <video autoplay loop muted playsinline class="highlight-media">
                    <source src="./images/{{ highlight.video }}" type="video/mp4">
                    <img src="./images/{{ highlight.image }}" alt="{{ highlight.title }}">
                  </video>
                  {% else %}
                  <img src="./images/{{ highlight.image }}" alt="{{ highlight.title }}">
                  {% endif %}
                </figure>
              </div>
              <div class="card-content" style="padding: var(--space-md);">
                <div class="media">
                  <div class="media-content">
                    <p class="title is-5 highlight-title">
                      <a href="{{ highlight.url }}" target="_blank" rel="noopener">{{ highlight.title }}</a>
                    </p>
                  </div>
                </div>
                <div class="content highlight-description" style="margin-top: var(--space-sm);">
                  {{ highlight.description }}
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>


    <!-- Publications区域 -->
    <section id="publications" class="section animate animate-delay-400">
      <div class="container">
        <h2 class="title is-3">Publications</h2>
        {% for publication in site.data.publications %}
        <div class="publication-block columns animate" style="animation-delay: {{ forloop.index * 150 }}ms;">
          <div class="column is-2">
            <div class="publication-image {% if publication.image_mouseover %}publication-mousecell{% endif %}">
              {% if publication.image_mouseover contains "mp4" %}
              <video autoplay preload playsinline height="50%" loop muted width="100%">
                <source src="./images/{{ publication.image_mouseover }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
              {% endif %}
              <img alt="{{ publication.title }}" src="./images/{{ publication.image }}" />
            </div>
          </div>
          <div class="column" style="padding: var(--space-lg);">
            <div class="content">
              <h3 class="publication-title"><a href="{{ publication.project_page }}">{{ publication.title }}</a></h3>
              <div class="publication-authors" style="margin: var(--space-sm) 0;">
                {% for author_id in publication.authors %}
                {% assign author = site.data.authors[author_id] %}
                <span class="author-block {% if author.is_me %}author-me{% endif %}">
                  {% if author.is_me %}
                  {{ author.first_name }} {{author.middle_name}} {{ author.last_name }}{% if forloop.last == false %},{% endif %}
                  {% else %}
                  <a href="{{ author.website }}">{{ author.first_name }} {{ author.middle_name }} {{ author.last_name }}</a>{% if forloop.last == false %},{% endif %}
                  {% endif %}
                </span>
                {% endfor %}
              </div>
              <div class="publication-venue" style="color: var(--muted-fg); margin: var(--space-sm) 0;">
                <span>{{ publication.venue }}</span>
                {% for award in publication.awards %}
                <span class="publication-venue-emph" style="color: var(--accent); margin-left: var(--space-xs);">
                  {{ award }}
                </span>
                {% endfor %}
              </div>
              <p class="publication-description" style="margin: var(--space-sm) 0;">{{ publication.description }}</p>
              <div class="publication-links buttons field has-addons" style="margin-top: var(--space-md);">
                <a class="external-link button is-small is-ghost" href="{{ publication.project_page }}">
                  <span class="icon"><i class="fas fa-globe-asia"></i></span>
                  <span>Project Page</span>
                </a>
                <a class="external-link button is-small is-ghost" href="https://arxiv.org/pdf/{{ publication.arxiv }}.pdf">
                  <span class="icon"><i class="fas fa-file-pdf"></i></span>
                  <span>PDF</span>
                </a>
                <a class="external-link button is-small is-ghost" href="https://arxiv.org/abs/{{ publication.arxiv }}">
                  <span class="icon"><i class="ai ai-arxiv"></i></span>
                  <span>arXiv</span>
                </a>
                {% if publication.github %}
                <a class="external-link button is-small is-ghost" href="https://github.com/{{ publication.github }}">
                  <span class="icon"><i class="fab fa-github"></i></span>
                  <span>Code</span>
                </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </section>

    <!-- 新增Experience版块 -->
    <section id="experience" class="section experience-section animate animate-delay-400">
      <div class="container">
        <h2 class="title is-3">Experience</h2>
        <div class="timeline-container">
          <!-- 垂直时间线 -->
          <div class="timeline"></div>

          <!-- 教育经历1 -->
          <div class="timeline-item animate" style="animation-delay: 100ms;">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-date">September 2025 - Present</div>
              <div class="timeline-title">The Hong Kong University of Science and Technology (Guangzhou)</div>
              <div class="timeline-subtitle">Remote Research Collaboration</div>
              <p>Next-gen learning method for neural networks.</p>
            </div>
          </div>

          <!-- 实习经历1 -->
          <div class="timeline-item animate" style="animation-delay: 200ms;">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-date">Summer 2025</div>
              <div class="timeline-title">University of California, Irvine</div>
              <div class="timeline-subtitle">Remote Research Collaboration</div>
              <p>Open-set semi-supervised object classification</p>
            </div>
          </div>

          <!-- 实习经历1 -->
          <div class="timeline-item animate" style="animation-delay: 200ms;">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-date">Winter 2025</div>
              <div class="timeline-title">University of Macau</div>
              <div class="timeline-subtitle">Remote Research Collaboration</div>
              <p>Cross-domain few-shot annotation detection model for the urban sewer system.</p>
            </div>
          </div>

          <!-- 研究经历 -->
          <div class="timeline-item animate" style="animation-delay: 300ms;">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-date">2024 - Present</div>
              <div class="timeline-title">Xishu Classical Gardens Digital Lab, SAU</div>
              <div class="timeline-subtitle">Research Assistant</div>
              <p>The conservation of lanscape heritage through digital processing and mechine learning.</p>
            </div>
          </div>
         
          
          <div class="timeline-item animate" style="animation-delay: 200ms;">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
              <div class="timeline-date">September 2022 - June 2027</div>
              <div class="timeline-title">Sichuan Agricultural University</div>
        
              <p>B.Sc. in Landscape Architecture<br>B.Sc. in Computer Science and Technology</p>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer animate animate-delay-400">
      <div class="container">
        <div class="content footer-links has-text-centered">
          <a href="mailto:{{ site.email }}"><i class="fas fa-envelope fa-lg"></i></a>
          <a class="external-link" href="https://github.com/{{ site.github_username }}"><i class="fab fa-github fa-lg"></i></a>
          <a class="external-link" href="https://scholar.google.com/citations?user={{ site.google_scholar }}"><i class="ai ai-google-scholar fa-lg"></i></a>
        </div>
        <div class="columns is-centered has-text-centered">
          <div class="column is-8">
            <div class="content">
              <p>Feel free to <a href="https://github.com/keunhong/keunhong.github.io">borrow this template</a>.</p>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script defer src="{{ '/js/fontawesome.all.min.js' | relative_url }}"></script>
  <script src="{{ '/js/index.js' | relative_url }}"></script>
  <script>
    // 深色模式切换
    const themeToggle = document.getElementById('theme-toggle');
    const html = document.documentElement;
    
    // 检查本地存储的主题偏好
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      html.classList.add('dark');
      themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    } else {
      html.classList.remove('dark');
      themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    }
    
    themeToggle.addEventListener('click', () => {
      if (html.classList.contains('dark')) {
        html.classList.remove('dark');
        localStorage.theme = 'light';
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      } else {
        html.classList.add('dark');
        localStorage.theme = 'dark';
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      }
    });


    // 菜单功能
    const menuBtn = document.getElementById('menu-btn');
    const menuPanel = document.getElementById('menu-panel');
    const menuOverlay = document.getElementById('menu-overlay');
    const contentWrapper = document.getElementById('content-wrapper');
    const glassHeader = document.querySelector('.glass-header'); // 顶栏元素
    const menuItems = document.querySelectorAll('.menu-item');

    
    // 状态变量：标记菜单是否展开（默认隐藏）
    let isMenuOpen = false;

    // 菜单按钮点击事件（核心切换逻辑）
    menuBtn.addEventListener('click', () => {
      if (isMenuOpen) {
        // 若已展开，则收起菜单
        menuPanel.classList.remove('active'); // 菜单面板收起
        menuOverlay.classList.remove('active'); // 遮罩层隐藏
        glassHeader.classList.remove('expanded'); // 顶栏恢复原状
        contentWrapper.classList.remove('content-blur'); // 内容取消模糊
        document.body.style.overflow = ''; // 恢复页面滚动
      } else {
        // 若未展开，则展开菜单
        menuPanel.classList.add('active'); // 菜单面板展开
        menuOverlay.classList.add('active'); // 遮罩层显示
        glassHeader.classList.add('expanded'); // 顶栏延伸变纯色
        contentWrapper.classList.add('content-blur'); // 内容模糊
        document.body.style.overflow = 'hidden'; // 禁止页面滚动
      }
      // 切换状态（展开→收起，或收起→展开）
        isMenuOpen = !isMenuOpen;
    });

      // 点击遮罩层也收起菜单（保持原有逻辑）
    menuOverlay.addEventListener('click', () => {
      if (isMenuOpen) {
        menuPanel.classList.remove('active');
        menuOverlay.classList.remove('active');
        glassHeader.classList.remove('expanded');
        contentWrapper.classList.remove('content-blur');
        document.body.style.overflow = '';
        isMenuOpen = false; // 重置状态
      }
    });

    function openMenu() {
      glassHeader.classList.add('expanded');
      menuPanel.classList.add('active');
      menuOverlay.classList.add('active');
      contentWrapper.classList.add('content-blur');
      document.body.style.overflow = 'hidden'; // 防止背景滚动
    }
    
    function closeMenu() {
      glassHeader.classList.remove('expanded');
      menuPanel.classList.remove('active');
      menuOverlay.classList.remove('active');
      contentWrapper.classList.remove('content-blur');
      document.body.style.overflow = ''; // 恢复滚动
      isMenuOpen = false; 
    }
    
    // 点击菜单项跳转并关闭菜单
    menuItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = item.getAttribute('href');
        const targetElement = document.querySelector(targetId);

        if (targetElement) {
          closeMenu(); // 调用收起函数
          setTimeout(() => {
            targetElement.scrollIntoView({ behavior: 'smooth' });
          }, 300);
        }
      });
    });

    // 平滑滚动到顶部
    document.querySelector('.header-logo').addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // 监听滚动，调整毛玻璃效果（可选增强）
    window.addEventListener('scroll', () => {
      const header = document.querySelector('.glass-header');
      if (window.scrollY > 50) {
        header.style.backdropFilter = 'blur(12px)';
        header.style.borderBottom = '1px solid var(--border)';
      } else {
        header.style.backdropFilter = 'blur(10px)';
        header.style.borderBottom = '1px solid transparent';
      }
    });
  </script>
</body>
</html>